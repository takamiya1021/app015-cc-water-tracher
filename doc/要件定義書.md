# 水分摂取トラッカーアプリ 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
水分摂取トラッカーアプリ

### 1.2 目的
ユーザーが日々の水分摂取量を簡単に記録・管理し、適切な水分摂取習慣を身につけることを支援するスマートフォン対応Webアプリケーション

### 1.3 ターゲットユーザー
- 健康意識の高い一般ユーザー
- 水分摂取量を管理したい人
- スマートフォンを日常的に使用する人

## 2. 機能要件

### 2.1 水分摂取記録機能

#### 2.1.1 記録方式（必須）
- **プリセット記録**: ワンタップで決まった量を記録
  - コップ1杯（200ml）
  - ペットボトル小（350ml）
  - ペットボトル中（500ml）
  - ペットボトル大（1000ml）
- **自由入力記録**: 任意の数値を入力して記録
  - 数値入力フィールド（1ml〜9999ml）
  - 入力確定ボタン

#### 2.1.2 飲み物種類分類（必須）
- **水**: デフォルト選択、メイン対象
- **その他の飲み物**: お茶、コーヒー、ジュース等の統合カテゴリ
- 種類選択UI（タブまたは選択ボタン）

### 2.2 目標設定機能（必須）

#### 2.2.1 目標摂取量設定
- **デフォルト目標**: 2000ml/日
- **カスタム目標**: ユーザーが自由に設定可能（500ml〜5000ml）

#### 2.2.2 目標自動計算機能
- **体重ベース**: 体重(kg) × 30ml の計算式
- **活動量補正**:
  - 軽い活動: +0ml
  - 普通の活動: +200ml
  - 激しい活動: +500ml
- 設定画面でパラメーター入力・自動計算結果の表示

### 2.3 進捗表示機能（必須）

#### 2.3.1 メイン画面表示要素
- **目標達成率**: 進捗バー形式（0%〜100%以上）
- **現在摂取量**: 数値表示（例：1200ml / 2000ml）
- **残り必要量**: 数値表示（例：あと800ml）
- **達成状況**: 視覚的フィードバック（色分け、アニメーション）

#### 2.3.2 進捗バー仕様
- 0%〜100%: グラデーション（赤→黄色→青）
- 100%達成: 緑色で「目標達成！」表示
- 100%超過: 緑色維持、超過分も表示

### 2.4 履歴・統計機能（必須）

#### 2.4.1 表示期間
- **日別**: 過去7日間の詳細表示
- **週別**: 過去4週間の週次サマリー
- **月別**: 過去12ヶ月の月次サマリー

#### 2.4.2 グラフ表示
- **棒グラフ**: 日別・週別・月別の摂取量
- **折れ線グラフ**: 目標達成率の推移
- **データポイント**: グラフ上のタップで詳細表示

#### 2.4.3 統計データ
- 平均摂取量（期間別）
- 目標達成日数・達成率
- 最高・最低摂取量記録

## 3. 非機能要件

### 3.1 技術仕様

#### 3.1.1 プラットフォーム
- **Webアプリケーション**: PWA（Progressive Web App）対応
- **スマートフォン最適化**: レスポンシブデザイン必須
- **ブラウザ対応**: Chrome、Safari、Firefox、Edge最新版

#### 3.1.2 技術スタック
- **フロントエンド**: React/Next.js + TypeScript
- **スタイリング**: Tailwind CSS
- **データ管理**: LocalStorage（ブラウザローカル保存）
- **グラフライブラリ**: Chart.js または Recharts

### 3.2 パフォーマンス要件
- 初期ローディング時間: 3秒以内
- 記録操作のレスポンス時間: 1秒以内
- オフライン動作: 必須（データはローカル保存）

### 3.3 ユーザビリティ要件
- ワンタップ操作での記録追加
- 直感的なUI/UX（説明なしで操作可能）
- タッチフレンドリーなボタンサイズ（44px以上）

### 3.4 データ管理要件
- **データ永続化**: LocalStorageによるブラウザローカル保存
- **データ保持期間**: 無制限（ユーザーが削除するまで）
- **データ形式**: JSON形式で構造化保存

## 4. 今後の拡張予定（実装対象外）

### 4.1 通知機能
- 飲み忘れ防止のリマインダー通知
- 目標達成お祝い通知

### 4.2 データエクスポート機能
- CSV形式でのデータ出力
- 他アプリとの連携

### 4.3 ソーシャル機能
- 友人・家族との進捗共有
- チャレンジ機能

## 5. 成功指標

### 5.1 機能的指標
- 全機能が仕様通りに動作
- エラーなくデータが保存・表示される
- レスポンシブデザインが適切に機能

### 5.2 ユーザビリティ指標
- 初回ユーザーが説明なしで記録操作を完了できる
- メイン操作（記録追加）が3タップ以内で完了

## 6. 開発・テスト方針

### 6.1 開発アプローチ
- 段階的実装（MVP→機能拡張）
- コンポーネント指向設計
- TypeScriptによる型安全な実装

### 6.2 テスト方針
- 単体テスト: 主要コンポーネント
- 結合テスト: データフローの検証
- 手動テスト: 実機でのタッチ操作確認

---

**作成日**: 2025年9月14日
**承認**: ヒアリング完了済み